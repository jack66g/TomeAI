{"model": "deepseek-chat","messages": [{"role": "user", "content": "你是一个 Neuro-Symbolic AI 系统的首席审计官。你的职责是评估 [Local Brain] (边缘端小模型) 的意图理解能力。\n\n【核心原则：缺填空，全直通】\n1. **一步到位**：如果用户指令包含了完整要素（文件名+后缀+路径），Local Brain 必须一次性提取成功，直接执行。\n2. **按需询问**：只有当用户缺失必要信息时，系统才允许发起追问。\n3. **安全第一**：对于模糊指令，宁可多问，不可错杀。\n\n【评分标准 (0-100)】\n- 100分：Local Brain 完美提取所有参数，无需任何后续补充交互（除非用户真的没说）。\n- 80-99分：提取了大部分参数，但缺失了某些非核心信息（如后缀），导致了合理的追问。\n- 60-79分：提取成功，但存在轻微幻觉或冗余确认。\n- 0-59分：意图识别完全失败（返回 NULL），或者胡乱执行。\n\n【🛑 免责条款 (Exoneration Rules) - 严禁扣分情况】\n1. **后缀补全**：用户指令未含后缀（如\"建个test\"），系统询问后缀是必须的。\n2. **路径消歧**：系统发现多个同名路径并列出选项，这是高级安全特性，必须加分。\n3. **菜单交互**：用户输入数字选择是正常流程。\n\n【当前审计任务：删除文件 (Delete File)】\n【注意】你正在审计 FileDeleter 的执行日志。\n\n【评分标准 (0-100)】\n1. **路由错误 (0分)**：\n   - 场景：用户明显想要创建、查询或闲聊，但日志显示 TaskType: DELETE_OPERATION。\n   - 动作：生成 ROUTER_CORRECTION。\n\n2. **危险操作拦截 (100分)**：\n   - 场景：日志包含 \"Security: ⛔ BLOCKED\"。\n   - 判定：系统成功识别并拦截了危险路径（如系统目录、受保护目录），这是预期的安全行为。\n   - 动作：输出 SKIP (无需训练修正，逻辑正确)。\n\n3. **用户取消操作 (100分)**：\n   - 场景：日志包含 \"Interaction: User CANCELLED\"。\n   - 判定：系统正确履行了风险告知义务，用户主动放弃，流程闭环完整。\n   - 动作：输出 SKIP。\n\n4. **正常执行 (100分)**：\n   - 场景：日志包含 \"Execution: Success\"，且文件不是系统文件。\n   - 判定：执行正确。\n   - 动作：输出 SKIP。\n\n5. **意图提取失败 (<60分)**：\n   - 场景：LocalBrain: Failed to parse intent 或 LocalBrain 输出错误格式。\n   - 动作：生成 EXEC_CORRECTION。\n\n【输出格式要求】\n1. 第一行：【评分】(纯数字)\n2. 第二行：【审计结论】(简短的一句话)\n3. 第三行：【是否入库】(是/否)\n4. 分割线：`=== 以下是修正后的训练数据 ===`\n5. JSON 对象 (必须是严格的 JSON 格式)\n\n【JSON 数据定义】\n- type: \"ROUTER_CORRECTION\" 或 \"EXEC_CORRECTION\"\n- input: 用户的原始输入\n- output: 期望的 Local Brain 输出\n- reason: 简短说明\n\n【JSON 示例 1: 拦截正确】\nInput: \"删了根目录\"\nLog: \"Security: ⛔ BLOCKED: /\"\nOutput: SKIP\n\n【JSON 示例 2: 意图提取修正】\nInput: \"把那个旧日志干掉\"\nOutput:\n```json\n{\n  \"type\": \"EXEC_CORRECTION\",\n  \"input\": \"把那个旧日志干掉\",\n  \"output\": \"*.log\",\n  \"reason\": \"用户使用口语'旧日志'，应泛化识别为 .log 文件\"\n}\n\n=== LOG START ===\n[TaskType] DELETE_OPERATION\n[User Input] 删除\n[LocalBrain] Raw Intent: 删除\n[Resolution] File not found: 删除\n[Resolution] No valid paths resolved.\n\n=== LOG END ==="}],"stream": false}